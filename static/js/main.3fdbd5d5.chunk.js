(this.webpackJsonpmm=this.webpackJsonpmm||[]).push([[0],{14:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),o=n(8),i=n.n(o),r=n(3),l=n(9),a=n(2),u=(n(14),function(e,t){for(var n=Array(e).fill(0),c=0;c<e;c++)n[c]=Math.floor(Math.random()*t)+1;return 0,n}),m=n(4),j=n(0),b=function(e){var t=e.color;e.nomargin;return Object(j.jsx)("button",{className:"mm-color",children:"transparent"===t?null:Object(j.jsx)("img",{src:"/mm/"+t+"_pin.png",className:"one-color-img",draggable:"false"})})},f=function(e){var t=e.toGuess,n=e.colorOptions,c=e.time,s=e.timerVisible;return Object(j.jsxs)("div",{className:"mm-toguess mm-row",children:[Object(j.jsx)("div",{className:"mm-left"}),Object(j.jsx)("div",{className:"mm-txt mm-right",children:s?Object(j.jsx)("div",{children:function(e){var t=Math.floor(e/60),n=e-60*t;return t<10&&(t="0"+t),n<10&&(n="0"+n),t+":"+n}(c)}):null}),Object(j.jsx)("div",{className:"mm-center",children:t.map((function(e,t){return Object(j.jsx)(b,{color:n[e]},t)}))})]})},d=function(e){var t,n=e.colorOptions,s=e.color,o=e.setColor,i=e.clickMode,r=void 0!==i&&i,l=Object(c.useState)(!1),u=Object(a.a)(l,2),f=u[0],d=u[1],O="",g=function(){},h=function(){},p=function(){},x=function(){},v=function(){},y=function(){},N=function(){};r?(N=function(e){if(f){console.log("here");var t=w(e);console.log(t),t&&o(t),d(!1)}else setTimeout((function(){return d(!0)}),0)},O="click"):(g=function(){d(!0)},h=function(){d(!0)},p=function(e){var t=C(e);t&&o(t)},x=function(e){if(f){var t=w(e);t&&o(t)}},v=function(e){var t=C(e);t&&o(t),d(!1)},y=function(e){var t=w(e);t&&o(t)},O="mouseup"),Object(c.useEffect)((function(){var e=function(e){d(!1)};return window.addEventListener(O,e),function(){window.removeEventListener(O,e)}}),[d]);var C=function(e){var t=document.elementFromPoint(e.changedTouches[0].clientX,e.changedTouches[0].clientY);return t&&t.parentElement.parentElement.getAttribute("idkey")?parseInt(t.parentElement.parentElement.getAttribute("idkey")):null},w=function(e){var t=document.elementFromPoint(e.clientX,e.clientY);return t&&t.parentElement.parentElement.getAttribute("idkey")?parseInt(t.parentElement.parentElement.getAttribute("idkey")):null};return Object(j.jsxs)("div",{className:"mm-editable-colors",onTouchStart:g,onMouseDown:h,onTouchMove:p,onMouseMove:x,onTouchEnd:v,onMouseUp:y,onClick:N,children:[Object(j.jsx)(b,{color:n[s]}),f?Object(j.jsx)("div",{className:"mm-color-picker",style:(t={},Object(m.a)(t,"--m",n.length-1),Object(m.a)(t,"--tan",.4),t),children:n.map((function(e,t){return 0===t?null:Object(j.jsx)("div",{idkey:t,style:Object(m.a)({},"--i",t+1),children:Object(j.jsx)(b,{color:e,nomargin:!0})},t)}))}):null]})},O=function(e){var t=e.colorOptions,n=e.colors,s=e.setColors,o=e.onSubmit,i=e.clickSelectMode,l=void 0!==i&&i,u=Object(c.useState)(!1),m=Object(a.a)(u,2),b=m[0],f=m[1];Object(c.useEffect)((function(){f(n.map((function(e){return 0!=e})).reduce((function(e,t){return e&&t})))}),[n,f]);return Object(j.jsxs)("div",{className:"mm-guessbuilder mm-row",children:[Object(j.jsx)("div",{className:"mm-right",children:Object(j.jsx)("button",{onClick:function(){o(n)},disabled:!b,children:Object(j.jsx)("img",{src:"/mm/play_img.svg",className:"btn-img",draggable:"false"})})}),Object(j.jsx)("div",{className:"mm-left",children:Object(j.jsx)("button",{onClick:function(){s(Array(n.length).fill(0))},children:Object(j.jsx)("img",{src:"/mm/reset_img.svg",className:"btn-img",draggable:"false"})})}),Object(j.jsx)("div",{className:"mm-center",children:n.map((function(e,c){return Object(j.jsx)(d,{colorOptions:t,color:e,setColor:function(e){var t=Object(r.a)(n);t[c]=e,s(t)},clickMode:l},c)}))})]})},g=function(e){var t=e.type;return Object(j.jsx)("div",{className:"mm-res "+t})},h=function(e){for(var t=e.gcgp,n=e.gcbp,c=[],s=0;s<t;s++)c.push("mm-gp");for(var o=0;o<n;o++)c.push("mm-bp");return Object(j.jsx)("div",{className:"mm-results",children:c.map((function(e,t){return Object(j.jsx)(g,{type:e},t)}))})},p=function(e){var t=e.colors,n=e.result,c=e.colorOptions,s=e.number;return Object(j.jsxs)("div",{className:"mm-guess mm-row",children:[Object(j.jsx)("div",{className:"mm-left",children:Object(j.jsx)(h,{gcgp:n.gcgp,gcbp:n.gcbp})}),Object(j.jsx)("div",{className:"mm-center",children:t.map((function(e,t){return Object(j.jsx)(b,{color:c[e]},t)}))}),Object(j.jsx)("div",{className:"mm-txt mm-right",children:Object(j.jsx)("p",{children:s})})]})},x=function(e){var t=e.items,n=e.onChange,s=e.selected,o=void 0===s?null:s,i=e.multiselect,r=void 0!==i&&i,l=e.class_container,u=void 0===l?null:l,m=e.class_item,b=void 0===m?null:m,f=Object(c.useState)(function(e,t,n){var c=Array(e).fill(!1);if(null!==t){if(Array.isArray(t))!n&1!=t.length&&(t=[t[0]]);else{if(!Number.isInteger(t))throw"'selected' must be an integer of an array of integer";t=[t]}t.map((function(e,t){if(!Number.isInteger(e))throw"item "+t+" of 'selected' is not an integer";c[e]=!0}))}return c}(t.length,o,r)),d=Object(a.a)(f,2),O=d[0],g=d[1];Object(c.useEffect)((function(){if(n){var e=[];O.map((function(t,n){t&&e.push(n)})),n(O,e)}}),[O]);return Object(j.jsx)("div",{className:u||"",children:t.map((function(e,t){return Object(j.jsx)("button",{onClick:function(){return function(e){g((function(t){return t.map((function(t,n){return r||(t=!1),e===n?!t:t}))}))}(t)},className:b||"",isselected:O[t]?"true":"false",style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e},t)}))})},v=function(e){var t=e.onNewGame,n=e.onGiveUp,c=e.onOpenConfig;return Object(j.jsxs)("div",{className:"mm-row",children:[Object(j.jsx)("div",{className:"mm-left"}),Object(j.jsx)("div",{className:"mm-right"}),Object(j.jsxs)("div",{className:"mm-buttons mm-center",children:[Object(j.jsx)("button",{onClick:n,children:Object(j.jsx)("img",{src:"/mm/show_img.svg",className:"btn-img",draggable:"false"})}),Object(j.jsx)("button",{onClick:t,children:Object(j.jsx)("img",{src:"/mm/restart_img.svg",className:"btn-img",draggable:"false"})}),Object(j.jsx)("button",{onClick:function(){return c()},children:Object(j.jsx)("img",{src:"/mm/config_img.svg",className:"btn-img",draggable:"false"})})]})]})},y=function(e){var t=e.onCloseConfig,n=e.nHoles,c=e.onNumberOfHolesChange,s=e.nColors,o=e.onNumberOfColorsChange,i=e.clickSelectMode,r=e.onSelectModeChange,l=e.timerVisible,a=e.onChangeTimerVisibility,u=[3,4,5,6,7,8],m=[3,4,5,6,7,8];return Object(j.jsxs)("div",{className:"mm-config",children:[Object(j.jsx)("button",{className:"mm-btn-close-config",onClick:function(){return t()},children:Object(j.jsx)("img",{src:"/mm/reset_img.svg",className:"btn-img",draggable:"false"})}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:"How do you want to select the colors?"}),Object(j.jsx)(x,{items:["Click and slide/drag","Click and click"].map((function(e){return Object(j.jsx)("p",{children:e})})),onChange:function(e,t){console.log(t),console.log(1===t[0]),r(1===t[0])},class_container:"slct-container",class_item:"slct-item",selected:i,multiselect:!1})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:"How many holes do you want ?"}),Object(j.jsx)("p",{children:"(will only take effect for the next game)"}),Object(j.jsx)(x,{items:u.map((function(e){return Object(j.jsx)("p",{children:e})})),onChange:function(e,t){c(u[t])},class_container:"slct-container",class_item:"slct-item",selected:u.indexOf(n),multiselect:!1})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:"How many colors do you want ?"}),Object(j.jsx)("p",{children:"(will only take effect for the next game)"}),Object(j.jsx)(x,{items:m.map((function(e){return Object(j.jsx)("p",{children:e})})),onChange:function(e,t){o(u[t])},class_container:"slct-container",class_item:"slct-item",selected:m.indexOf(s),multiselect:!1})]}),Object(j.jsxs)("section",{children:[Object(j.jsx)("h3",{children:"Do you want do see the timer ?"}),Object(j.jsx)("p",{children:"(will only take effect for the next game)"}),Object(j.jsx)(x,{items:["No","Yes"].map((function(e){return Object(j.jsx)("p",{children:e})})),onChange:function(e,t){console.log(t),a(1===t[0])},class_container:"slct-container",class_item:"slct-item",selected:l?1:0,multiselect:!1})]})]})},N=["transparent","blue","green","yellow","red","black","white","violet","turquoise"],C=function(){var e=Object(c.useState)({holes:4,colors:6}),t=Object(a.a)(e,2),n=t[0],s=t[1],o=Object(c.useState)(6),i=Object(a.a)(o,2),m=i[0],b=i[1],d=Object(c.useState)(4),g=Object(a.a)(d,2),h=g[0],x=g[1],C=Object(c.useState)(N.slice(0,n.colors+1)),w=Object(a.a)(C,2),k=w[0],S=w[1];Object(c.useEffect)((function(){S(N.slice(0,n.colors+1)),be()}),[n,S]);var E=function(){be()};Object(c.useEffect)((function(){return window.addEventListener("resize",E),function(){window.removeEventListener("resize",E)}}));var M=Object(c.useState)(u(n.holes,n.colors)),_=Object(a.a)(M,2),A=_[0],I=_[1],T=Object(c.useState)(!1),z=Object(a.a)(T,2),H=z[0],P=z[1],G=Object(c.useState)([]),V=Object(a.a)(G,2),L=V[0],U=V[1],Y=Object(c.useState)(Array(n.holes).fill(0)),q=Object(a.a)(Y,2),D=q[0],F=q[1],J=Object(c.useState)(!1),X=Object(a.a)(J,2),B=X[0],W=X[1],K=Object(c.useState)(!0),Q=Object(a.a)(K,2),R=Q[0],Z=Q[1],$=Object(c.useState)(!1),ee=Object(a.a)($,2),te=ee[0],ne=ee[1],ce=Object(c.useState)(0),se=Object(a.a)(ce,2),oe=se[0],ie=se[1],re=Object(c.useState)(null),le=Object(a.a)(re,2),ae=le[0],ue=le[1],me=function(){console.log("stopping timer"),clearInterval(ae)},je=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];console.log("opening config"),W(e)},be=function(){var e=document.querySelector(":root"),t=n.holes,c=(document.body.clientWidth-60-4-2*(4*t+2))/(t+t/3+2),s=Math.min(c,40);e.style.setProperty("--center-size",t*(s+4)+"px"),e.style.setProperty("--left-size",t*(s/2+4)+"px"),e.style.setProperty("--right-size",2*(s+2)+"px"),e.style.setProperty("--main-size",s+"px"),e.style.setProperty("--secondary-size",s/3+"px")};return Object(j.jsx)("div",{className:"mm-container",children:B?Object(j.jsx)(y,{onCloseConfig:function(){return je(!1)},nHoles:n.holes,onNumberOfHolesChange:function(e){return x(e)},nColors:n.colors,onNumberOfColorsChange:function(e){return b(e)},clickSelectMode:te?1:0,onSelectModeChange:function(e){return ne(e)},timerVisible:R,onChangeTimerVisibility:function(e){return Z(e)}}):Object(j.jsxs)("div",{className:"mm-game",children:[Object(j.jsx)(v,{onNewGame:function(){s((function(e){return Object(l.a)(Object(l.a)({},e),{},{holes:h,colors:m})})),U([]),F(Array(h).fill(0)),I(u(h,m)),P(!1),ie(0)},onGiveUp:function(){P(!0),me()},onOpenConfig:function(){je(!0)}}),Object(j.jsx)(f,{toGuess:H?A:Array(A.length).fill(0),colorOptions:k,timerVisible:R,time:oe}),L.map((function(e,t){return Object(j.jsx)(p,{colors:e.g,result:e.r,colorOptions:k,number:t+1},t)})),H?null:Object(j.jsx)(O,{colorOptions:k,colors:D,setColors:function(e){F(e)},onSubmit:function(e){0===L.length&&(console.log("starting timer"),ue(setInterval((function(){ie((function(e){return e+1}))}),1e3)));var t=function(e,t){for(var n=Object(r.a)(e),c=Object(r.a)(t),s=0,o=0,i=n.length-1;i>=0;i--)n[i]===c[i]&&(s++,n.splice(i,1),c.splice(i,1));for(var l=0;l<n.length;l++){var a=c.indexOf(n[l]);-1!=a&&(o++,c.splice(a,1))}return{gcgp:s,gcbp:o}}(e,A);t.gcgp===A.length&&(P(!0),me()),U((function(n){return[].concat(Object(r.a)(n),[{g:e,r:t}])}))},clickSelectMode:te})]})})};i.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(C,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.3fdbd5d5.chunk.js.map